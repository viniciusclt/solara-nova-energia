# Pesquisa e Definição da Lógica de Dimensionamento e Equipamentos para Aquecimento de Banho

## 1. Lógica de Dimensionamento de Sistemas de Aquecimento Solar de Água

O dimensionamento de um sistema de aquecimento solar de água para banho é crucial para garantir que a demanda de água quente seja atendida de forma eficiente e econômica. A lógica de dimensionamento geralmente segue as diretrizes da ABNT NBR 15.569, que estabelece os requisitos para projetos e instalações de sistemas de aquecimento solar de água em edificações. Os principais fatores a serem considerados são:

### 1.1. Consumo de Água Quente

O primeiro passo é estimar o consumo diário de água quente da residência ou edificação. Este consumo varia de acordo com o número de pessoas, hábitos de banho, e a presença de outros pontos de consumo de água quente (lavatórios, pia de cozinha, máquinas de lavar louça/roupa, banheiras, duchas higiênicas). A ABNT NBR 15.569 fornece valores de referência para o consumo de água quente por tipo de ponto de uso e por pessoa. Por exemplo:

*   **Chuveiro**: 7 litros/minuto, com duração média de 10 a 15 minutos por banho.
*   **Lavatório**: 20 litros/pessoa/dia.
*   **Pia de Cozinha**: 25 litros/pessoa/dia.
*   **Banheiras**: Variam de 100 a 200 litros para banheiras individuais e acima de 200 litros para banheiras duplas.

**Exemplo de Cálculo de Consumo Diário (simplificado):**

`Consumo Diário (Litros) = (Número de Pessoas × Consumo por Banho) + (Número de Pessoas × Consumo Lavatório) + (Número de Pessoas × Consumo Cozinha) + ...`

É importante considerar também a temperatura da água fria de entrada e a temperatura desejada da água quente, pois isso influencia a quantidade de energia necessária para aquecer a água.

### 1.2. Volume do Reservatório Térmico (Boiler)

Após estimar o consumo diário de água quente, o próximo passo é dimensionar o volume do reservatório térmico (boiler). O boiler é responsável por armazenar a água quente aquecida pelos coletores solares. O volume do boiler deve ser suficiente para atender à demanda de água quente, mesmo em dias nublados ou com baixa insolação. Geralmente, o volume do boiler é dimensionado para armazenar o consumo de 1 a 2 dias de água quente. A ABNT NBR 15.569 sugere que o volume do reservatório seja de 40 a 50 litros por pessoa para residências, mas isso pode variar.

**Fatores que influenciam o volume do boiler:**

*   **Número de usuários**: Quanto mais pessoas, maior a demanda e, consequentemente, maior o volume do boiler.
*   **Hábitos de consumo**: Banhos mais longos ou frequentes exigem maior volume.
*   **Presença de banheiras ou duchas de alta vazão**: Aumentam significativamente a demanda.
*   **Região geográfica**: Locais com menor insolação podem exigir um volume maior para compensar.

### 1.3. Área dos Coletores Solares

Os coletores solares são os responsáveis por captar a energia solar e transferi-la para a água. A área dos coletores é dimensionada com base no volume do boiler e na insolação da região. A ABNT NBR 15.569 também fornece diretrizes para o dimensionamento da área coletora, que geralmente varia de 1 a 1.5 m² por pessoa, dependendo do tipo de coletor e da região.

**Fatores que influenciam a área dos coletores:**

*   **Volume do boiler**: Quanto maior o volume, maior a área coletora necessária.
*   **Tipo de coletor**: Coletores a vácuo são mais eficientes e exigem menor área que coletores de placa plana.
*   **Insolação da região**: Regiões com maior irradiação solar exigem menor área coletora.
*   **Orientação e inclinação do telhado**: A posição ideal para os coletores é voltada para o Norte geográfico (no hemisfério Sul) com uma inclinação igual à latitude do local.

### 1.4. Pressurização do Sistema

Em alguns casos, especialmente em residências com baixa pressão de água na rede pública ou com múltiplos pontos de consumo simultâneos, pode ser necessário o uso de pressurizadores. Existem dois tipos principais de sistemas de pressurização:

*   **Sistemas com pressurizador na saída do boiler**: O pressurizador é instalado após o boiler, pressurizando toda a rede de água quente da casa.
*   **Sistemas com pressurizador na entrada da água fria**: O pressurizador é instalado antes do boiler, pressurizando tanto a água fria quanto a água quente.

A escolha do tipo e da potência do pressurizador depende da vazão e pressão desejadas nos pontos de consumo. É fundamental que o pressurizador seja compatível com o sistema de aquecimento solar e que seja instalado por um profissional qualificado.

### 1.5. Sistema de Apoio

Para garantir o fornecimento contínuo de água quente em dias nublados, chuvosos ou de alta demanda, os sistemas de aquecimento solar geralmente contam com um sistema de apoio. Os tipos mais comuns são:

*   **Apoio elétrico**: Uma resistência elétrica é instalada dentro do boiler e acionada automaticamente quando a temperatura da água cai abaixo de um nível pré-determinado.
*   **Apoio a gás**: Um aquecedor a gás é instalado em série com o sistema solar, complementando o aquecimento da água quando necessário.

A escolha do sistema de apoio depende da disponibilidade de recursos (eletricidade, gás), custo e preferência do cliente.

## 2. Tipos de Equipamentos para Aquecimento de Banho

### 2.1. Coletores Solares

Os coletores solares são o componente principal do sistema, responsáveis por absorver a energia solar. Existem dois tipos principais:

#### 2.1.1. Coletores de Placa Plana (Tradicionais)

*   **Descrição**: São os mais comuns e consistem em uma caixa isolada com uma placa absorvedora escura (geralmente de cobre ou alumínio) coberta por vidro. A água circula por tubos conectados à placa e é aquecida pela energia solar absorvida.
*   **Vantagens**: Custo mais baixo, boa eficiência em regiões com alta insolação, durabilidade.
*   **Desvantagens**: Menor eficiência em dias nublados ou com baixas temperaturas, maior perda de calor para o ambiente.
*   **Aplicações**: Residências, piscinas, pequenos comércios.

#### 2.1.2. Coletores de Tubo a Vácuo

*   **Descrição**: Compostos por tubos de vidro concêntricos com vácuo entre eles, o que minimiza as perdas de calor por convecção e condução. Dentro do tubo interno, há um absorvedor que aquece a água ou um fluido térmico.
*   **Vantagens**: Alta eficiência, mesmo em dias nublados ou com baixas temperaturas, menor área necessária para a mesma capacidade de aquecimento, maior resistência a geadas.
*   **Desvantagens**: Custo mais elevado, maior fragilidade (tubos de vidro).
*   **Aplicações**: Locais com clima mais frio, alta demanda de água quente, indústrias, hotéis.

### 2.2. Reservatórios Térmicos (Boilers)

Os boilers são tanques isolados termicamente que armazenam a água quente. Podem ser de baixa ou alta pressão:

#### 2.2.1. Boilers de Baixa Pressão

*   **Descrição**: Projetados para trabalhar com a pressão da caixa d'água (gravidade). Geralmente são instalados acima dos pontos de consumo.
*   **Vantagens**: Custo mais baixo, instalação mais simples.
*   **Desvantagens**: Pressão de água limitada, não recomendados para sistemas com pressurizadores.
*   **Aplicações**: Residências com baixa pressão de rede, onde a pressão por gravidade é suficiente.

#### 2.2.2. Boilers de Alta Pressão

*   **Descrição**: Construídos para suportar pressões mais elevadas, compatíveis com a pressão da rede pública ou com o uso de pressurizadores. Podem ser instalados em qualquer nível da edificação.
*   **Vantagens**: Alta pressão de água nos pontos de consumo, maior conforto, compatibilidade com pressurizadores.
*   **Desvantagens**: Custo mais elevado, instalação mais complexa.
*   **Aplicações**: Residências com alta demanda de pressão, hotéis, edifícios comerciais.

### 2.3. Pressurizadores

Conforme mencionado, os pressurizadores são bombas que aumentam a pressão da água na rede. A escolha depende da necessidade de pressão e vazão:

*   **Pressurizadores com fluxostato**: Acionam a bomba quando há fluxo de água.
*   **Pressurizadores com pressostato**: Acionam a bomba quando a pressão cai abaixo de um nível.
*   **Pressurizadores com inversor de frequência**: Mantêm a pressão constante, variando a velocidade da bomba.

## 3. Considerações para a Seleção de Equipamentos

A seleção dos equipamentos deve levar em conta diversos fatores para otimizar o desempenho e o custo-benefício do sistema:

*   **Clima local**: Regiões mais frias ou com menor insolação podem se beneficiar de coletores a vácuo.
*   **Espaço disponível**: A área do telhado ou local de instalação influencia o número e tipo de coletores.
*   **Orçamento**: O custo inicial dos equipamentos é um fator importante, mas deve ser balanceado com a eficiência e durabilidade.
*   **Qualidade da água**: Em regiões com água muito dura, pode ser necessário um tratamento prévio para evitar incrustações nos coletores e no boiler.
*   **Manutenção**: A facilidade de manutenção e a disponibilidade de peças de reposição devem ser consideradas.

## 4. Lógica de Cálculo para a Plataforma

Para a plataforma, a lógica de dimensionamento deve ser implementada de forma modular e configurável. Sugere-se a seguinte abordagem:

1.  **Entrada de Dados do Usuário**: A interface deve permitir que o usuário insira:
    *   Número de pessoas na residência.
    *   Número de banheiros.
    *   Duração média dos banhos.
    *   Presença de banheiras, duchas higiênicas, pia de cozinha, máquinas de lavar.
    *   Temperatura desejada da água quente.
    *   Localização (para obter dados de insolação).
    *   Tipo de conexão (baixa/alta pressão).

2.  **Cálculo de Consumo Diário**: Com base nos inputs do usuário e nas normas da ABNT, o sistema calcula o consumo diário total de água quente em litros.

3.  **Dimensionamento do Boiler**: Com base no consumo diário, o sistema sugere o volume do boiler (ex: 1.5 a 2 vezes o consumo diário, ou 40-50 litros/pessoa).

4.  **Dimensionamento dos Coletores**: Com base no volume do boiler, tipo de coletor (placa plana ou vácuo) e dados de insolação da região, o sistema calcula a área necessária de coletores.

5.  **Sugestão de Equipamentos**: O sistema pode sugerir modelos de equipamentos (coletores, boilers, pressurizadores) que atendam aos requisitos dimensionados, com base em um catálogo de produtos pré-cadastrado.

6.  **Cálculo de Economia e Retorno**: Similar à lógica da energia solar fotovoltaica, pode-se estimar a economia de energia (gás ou eletricidade) e calcular o payback do investimento.

### Exemplo de Fluxo de Cálculo (Pseudocódigo)

```python
def dimensionar_sistema_aquecimento_banho(
    num_pessoas,
    num_banheiros,
    duracao_banho_min,
    tem_banheira,
    tem_ducha_higienica,
    tem_pia_cozinha,
    tem_maquina_lavar_louca,
    tem_maquina_lavar_roupa,
    temperatura_desejada,
    localizacao,
    tipo_coletor, # 'placa_plana' ou 'vacuo'
    tipo_pressao_rede # 'baixa' ou 'alta'
):
    # 1. Estimar consumo de água quente (ABNT NBR 15.569)
    consumo_chuveiro = num_pessoas * duracao_banho_min * 7 # Litros/min
    consumo_lavatorio = num_pessoas * 20 # Litros/dia
    consumo_cozinha = num_pessoas * 25 # Litros/dia
    
    consumo_total_diario = consumo_chuveiro + consumo_lavatorio + consumo_cozinha
    
    if tem_banheira: consumo_total_diario += 150 # Exemplo
    if tem_ducha_higienica: consumo_total_diario += 10 # Exemplo
    if tem_maquina_lavar_louca: consumo_total_diario += 30 # Exemplo
    if tem_maquina_lavar_roupa: consumo_total_diario += 50 # Exemplo

    # 2. Dimensionar volume do boiler
    volume_boiler_sugerido = consumo_total_diario * 1.5 # 1.5 dias de autonomia
    
    # Arredondar para o volume comercial mais próximo (ex: 200L, 300L, 400L, 500L, 600L)
    volumes_comerciais = [200, 300, 400, 500, 600, 800, 1000]
    boiler_final = min([v for v in volumes_comerciais if v >= volume_boiler_sugerido], default=volumes_comerciais[-1])

    # 3. Dimensionar área dos coletores
    # Fatores de insolação por região (simplificado)
    fator_insolaracao = {
        'sudeste': 0.05, # m2/litro
        'nordeste': 0.04,
        'sul': 0.06
    }.get(localizacao.lower(), 0.05)

    if tipo_coletor == 'vacuo':
        fator_insolaracao *= 0.8 # Coletores a vácuo são mais eficientes

    area_coletora_sugerida = boiler_final * fator_insolaracao
    
    # Arredondar para área comercial mais próxima (ex: 1.5m2, 2.0m2, 3.0m2)
    areas_comerciais = [1.5, 2.0, 3.0, 4.0, 5.0]
    area_coletora_final = min([a for a in areas_comerciais if a >= area_coletora_sugerida], default=areas_comerciais[-1])

    # 4. Sugestão de pressurizador (se necessário)
    pressurizador_sugerido = None
    if tipo_pressao_rede == 'baixa' or (num_banheiros > 2 and tipo_pressao_rede == 'alta'):
        pressurizador_sugerido = 'Pressurizador de 1/2 CV com fluxostato'

    return {
        'consumo_diario_estimado': consumo_total_diario,
        'volume_boiler_sugerido': boiler_final,
        'area_coletora_sugerida': area_coletora_final,
        'tipo_coletor_sugerido': tipo_coletor,
        'pressurizador_sugerido': pressurizador_sugerido
    }

```

## 5. Catálogo de Equipamentos

A plataforma precisará de um catálogo de equipamentos (boilers, coletores, pressurizadores) com suas especificações técnicas e preços. Este catálogo pode ser armazenado em um banco de dados e ser atualizado periodicamente. Cada item deve ter atributos como:

*   **ID do Produto**
*   **Nome/Modelo**
*   **Fabricante**
*   **Tipo** (Ex: Coletor Placa Plana, Coletor Tubo a Vácuo, Boiler Baixa Pressão, Pressurizador)
*   **Capacidade/Área** (Ex: 200L, 1.5m²)
*   **Preço de Custo**
*   **Preço de Venda Sugerido**
*   **Imagens**
*   **Ficha Técnica (PDF)**

## 6. Geração de Propostas e Templates

Para a geração de propostas, a plataforma deve oferecer:

*   **Templates Pré-definidos**: Modelos de propostas com layouts profissionais (A4 e 16:9).
*   **Edição Drag-and-Drop**: Uma interface visual que permita ao usuário arrastar e soltar elementos (textos, imagens, tabelas, gráficos) para montar a proposta.
*   **Campos Dinâmicos**: Campos que são preenchidos automaticamente com os dados do dimensionamento e dos equipamentos selecionados.
*   **Animações**: Opções de animação (fade-in, fade-out, slide) para elementos da proposta, especialmente para a versão 16:9 (estilo PowerPoint).
*   **Exportação**: Opções para exportar a proposta em PDF (A4) e talvez em formato de apresentação (PPTX).

## 7. Visualização Online e Rastreamento

Esta funcionalidade é crucial para o acompanhamento das propostas:

*   **Link Único**: Cada proposta gerada deve ter um link único e seguro para visualização online.
*   **Controle de Acesso**: Opção de proteger o link com senha.
*   **Rastreamento de Visualização**: Registrar quando a proposta foi visualizada, por qual IP e em qual data/hora. Isso pode ser feito com um pixel de rastreamento ou um middleware na rota de visualização.
*   **Notificações**: Enviar notificações ao vendedor quando a proposta for visualizada.

## 8. Integração com Trae AI

Para o Trae AI, a integração envolverá:

*   **Backend**: A API de dimensionamento e gestão de propostas será o core. Pode-se usar Flask para isso.
*   **Frontend**: O React será usado para construir a interface de usuário, que consumirá a API do backend.
*   **Armazenamento**: Utilizar um banco de dados (PostgreSQL, SQLite) para armazenar o catálogo de equipamentos, propostas geradas e dados de rastreamento.
*   **Geração de PDF**: Usar bibliotecas como `WeasyPrint` (Python) ou `html2pdf` (Node.js) para converter o HTML/CSS da proposta em PDF.
*   **Edição Drag-and-Drop**: Utilizar bibliotecas React como `react-beautiful-dnd` ou `react-dnd` para implementar a funcionalidade de arrastar e soltar.
*   **Animações**: Usar bibliotecas CSS (Animate.css) ou JavaScript (Framer Motion, React Spring) para as animações.

Esta fase de pesquisa e definição é fundamental para a construção de um módulo robusto e funcional. A próxima fase será o desenvolvimento do backend para implementar a lógica de cálculo e a gestão de propostas.

